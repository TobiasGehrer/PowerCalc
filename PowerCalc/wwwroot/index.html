<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PowerCalc</title>
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <div id="app">
        <!-- Dashboard View -->
        <div id="dashboardView" class="view">
            <header>
                <h1>PowerCalc</h1>
            </header>

            <div class="dashboard-grid">
                <section class="current-training">
                    <h2>Current Training</h2>
                    <span class="unsaved-indicator" id="unsavedIndicator">Unsaved changes</span>
                    <div class="training-selector">
                        <div class="program-selector">
                            <label>Program:</label>
                            <select id="programSelect" onchange="updateWeekDaySelectors()"></select>
                        </div>
                        <div>
                            <label>Week:</label>
                            <select id="weekSelect" onchange="checkForChanges()"></select>
                        </div>
                        <div>
                            <label>Day:</label>
                            <select id="daySelect" onchange="checkForChanges()"></select>
                        </div>
                        <button onclick="updateState()" style="grid-column: 1 / -1;">Update</button>
                    </div>
                </section>

                <section class="start-workout">
                    <h2>Start Workout</h2>
                    <div class="workout-controls">
                        <label style="margin-bottom: 8px; font-size: 0.9em; color: var(--text-secondary); font-weight: 600;">Add participants:</label>
                        <div id="lifterSelection" class="lifter-selection"></div>
                        <button onclick="startWorkout()" class="primary-button">Start Workout</button>
                    </div>
                </section>
            </div>

            <section class="lifters-section">
                <div class="section-header">
                    <h2>Lifters</h2>
                    <button onclick="showAddLifterModal()">+ Add Lifter</button>
                </div>
                <div id="liftersList" class="lifters-grid"></div>
            </section>
        </div>

        <!-- Workout View -->
        <div id="workoutView" class="view hidden">
            <header>
                <button onclick="backToDashboard()">‚Üê Back</button>
                <h1>Workout: Week <span id="workoutWeek"></span>, Day <span id="workoutDay"></span></h1>
            </header>

            <div id="workoutContent" class="workout-content"></div>

            <div class="workout-actions">
                <button onclick="finishWorkout()" class="finish-button">Finish Workout</button>
            </div>
        </div>
    </div>

    <!-- Add Lifter Modal -->
    <div id="addLifterModal" class="modal hidden">
        <div class="modal-content">
            <h2>Add Lifter</h2>
            <input type="text" id="lifterName" placeholder="Name">
            <div class="lifts-input">
                <input type="number" id="squatMax" placeholder="Squat 1RM (kg)" step="2.5">
                <input type="number" id="benchMax" placeholder="Bench 1RM (kg)" step="2.5">
                <input type="number" id="deadliftMax" placeholder="Deadlift 1RM (kg)" step="2.5">
                <input type="number" id="ohpMax" placeholder="OHP 1RM (kg)" step="2.5">
                <input type="number" id="rdlMax" placeholder="RDL 1RM (kg)" step="2.5">
                <input type="number" id="rowMax" placeholder="Row 1RM (kg)" step="2.5">
                <input type="number" id="curlMax" placeholder="Curl 1RM (kg)" step="2.5">
                <input type="number" id="tricepsMax" placeholder="Triceps 1RM (kg)" step="2.5">
                <input type="number" id="crunchMax" placeholder="Crunch 1RM (kg)" step="2.5">
                <input type="number" id="calfMax" placeholder="Calf 1RM (kg)" step="2.5">
            </div>
            <div class="modal-actions">
                <button onclick="saveLifter()" class="primary-button">Save</button>
                <button onclick="closeModal()">Cancel</button>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
</body>
</html>